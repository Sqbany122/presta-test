<!doctype html>  
<!--[if IE 6 ]><html lang="en-us" class="ie6"> <![endif]-->
<!--[if IE 7 ]><html lang="en-us" class="ie7"> <![endif]-->
<!--[if IE 8 ]><html lang="en-us" class="ie8"> <![endif]-->
<!--[if (gt IE 7)|!(IE)]><!-->
<html lang="en-us"><!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>OmniPrice - Prestashop Module</title>
	<meta name="description" content="">
	<meta name="author" content="Dariusz Tryba | GreenMouseStudio.com">
	<meta name="copyright" content="Dariusz Tryba | GreenMouseStudio.com">
	<meta name="generator" content="Documenter v2.0 http://rxa.li/documenter">
	<meta name="date" content="2015-12-21T00:00:00+01:00">

	<link rel="stylesheet" href="assets/css/documenter_style.css" media="all">

	<style>
		html{background-color:#EFEFEF;color:#1C140D;scroll-behavior: smooth;}
		::-moz-selection{background:#CBE86B;color:#1C140D;}
		::selection{background:#CBE86B;color:#1C140D;}
		#documenter_sidebar #documenter_logo{background-image:url();}
		a{color:#889C48;}
		.btn {
			border-radius:3px;
		}
		.btn-primary {
			  background-image: -moz-linear-gradient(top, #CBE86B, #889C48);
			  background-image: -ms-linear-gradient(top, #CBE86B, #889C48);
			  background-image: -webkit-gradient(linear, 0 0, 0 CBE86B%, from(#F2E9E1), to(#889C48));
			  background-image: -webkit-linear-gradient(top, #CBE86B, #889C48);
			  background-image: -o-linear-gradient(top, #CBE86B, #889C48);
			  background-image: linear-gradient(top, #CBE86B, #889C48);
			  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#CBE86B', endColorstr='#889C48', GradientType=0);
			  border-color: #889C48 #889C48 #bfbfbf;
			  color:#FFFFFF;
		}
		.btn-primary:hover,
		.btn-primary:active,
		.btn-primary.active,
		.btn-primary.disabled,
		.btn-primary[disabled] {
		  border-color: #CBE86B #CBE86B #bfbfbf;
		  background-color: #889C48;
		}
		hr{border-top:1px solid #CCCCCC;border-bottom:1px solid #FFFFFF;}
		#documenter_sidebar, #documenter_sidebar ul a{background-color:#F2E9E1;color:#1C140D;}
		#documenter_sidebar ul a{-webkit-text-shadow:1px 1px 0px #FFF6ED;-moz-text-shadow:1px 1px 0px #FFF6ED;text-shadow:1px 1px 0px #FFF6ED;}
		#documenter_sidebar ul{border-top:1px solid #D1C9C2;}
		#documenter_sidebar ul a{border-top:1px solid #FFF6ED;border-bottom:1px solid #D1C9C2;color:#1C140D;}
		#documenter_sidebar ul a:hover{background:#CBE86B;color:#1C140D;border-top:1px solid #CBE86B;}
		#documenter_sidebar ul a.current{background:#CBE86B;color:#1C140D;border-top:1px solid #CBE86B;}
		#documenter_copyright{display:block !important;visibility:visible !important;}
		.inline-code {
		    padding: 0 10px;
			background: #fdfdfd;
			border: 1px solid #ccc;
			display: inline-block;
			margin: 10px;
		}
	</style>
	
</head>
<body class="documenter-project-show-payment-methods">
	<div id="documenter_sidebar">
		<a href="#documenter_cover" id="documenter_logo"></a>
		<ul id="documenter_nav">
			<li><a class="current" href="#documenter_cover">Start</a></li>
			<li><a href="#description" title="Description">Description</a></li>
			<li><a href="#installation" title="Installation">Installation</a></li>
			<li><a href="#configuration" title="Configuration">Configuration</a></li>
		</ul>
		<div id="documenter_copyright">Copyright Dariusz Tryba | GreenMouseStudio.com<br>
		made with the <a href="http://rxa.li/documenter">Documenter v2.0</a> 
		</div>
	</div>
	<div id="documenter_content">
	<section id="documenter_cover">
	<h1>OmniPrice</h1>
	<h2>Prestashop Module</h2>
	<hr>
	<ul>
	<li>by: Dariusz Tryba | GreenMouseStudio.com</li>
	<li><a href=""></a></li>
	<li>email: <a href="mailto:&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#64;&#103;&#114;&#101;&#101;&#110;&#109;&#111;&#117;&#115;&#101;&#115;&#116;&#117;&#100;&#105;&#111;&#46;&#99;&#111;&#109;">&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#64;&#103;&#114;&#101;&#101;&#110;&#109;&#111;&#117;&#115;&#101;&#115;&#116;&#117;&#100;&#105;&#111;&#46;&#99;&#111;&#109;</a></li>
	</ul>
	<p>Thank you for purchasing this module. If you have any questions that are beyond the scope of this help file, please feel free to email me and I will be happy to help you. Thanks so much!</p>
	</section>

	<section id="description">
	<div class="page-header"><h3>Description</h3><hr class="notop"></div>
		<p>This module will help you make your shop compliant with the EU Omnibus Directive.</p>
		<p>It requires you to display the lowest price within a 30 day period before the promotion starting date.
		<p>This module displays an additional label on the product page for discounted products with the lowest historical price.</p>
	</section>
	<section id="installation">
	<div class="page-header"><h3>Installation</h3><hr class="notop"></div>
	<ul>
		<li>
			log in to your Prestashop Back Office</li>
		<li>
			go to Modules</li>
		<li>
			click &quot;Upload a module&quot;</li>
		<li>
			select and upload the file &quot;gm_omniprice.zip&quot;</li>
		<li>
			configure the module</li>
		<li>set up the CRON task to make the module gather the prices on a daily basis</li>
	</ul>
	</section>
	<section id="configuration">
	<div class="page-header"><h3>Configuration</h3><hr class="notop"></div>
		<p>In the module you have the following options:</p>
		<ul>
			<li><b>Period</b> - number of days before promotion start to analyze</li>
			<li><b>Ignore countries</b> - store and display prices only for the default country</li>
			<li><b>Ignore combinations</b> - store and display prices only for the default combination</li>
			<li><b>Ignored groups</b> - ignore selected groups, display price for default group instead, the default group will be the Customer group. We set it to ignore unidentified and guest groups by default</li>
			<li><b>Batch size</b> - how many products should be processed in a single CRON task run. Set your CRON task to run as often as needed to finish the job. For example if you have a 1000 products in your shop, you can set the batch size to 100 products and run the CRON task every hour. It will give you more than enough runs to make sure all your prices are stored.</li>
			<li><b>Reindex on product save</b> - turn this option on to reindex product on each save. Reindexing a product with lots of combinations or on a store with many countries or currencies may take some time and slow down your back office. In this case keep this option turned off and make sure that the CRON task is executed often enough.</li>
			<li><b>Text color, background color, price color</b> - adjust appearance of the message to match your theme</li>
		</ul>
		<p><b>Testing module's appearance</b></p>
		<p>You can test the way the module displays the lowest price information by adding a <span class="inline-code">?omnipricetest=XXX</span> parameter to product's page URL.</p>
		<p><b>Important performance note!</b></p>
		<p>Gathering price history may end up in your database becoming larger. The module needs to freeze all prices for all your currencies, customer groups, countries, products and attributes. Those prices depend on many factors in the moment they are displayed in your store, so we can't rely on any computations, we rather store them in the database.</p>
		<p>The module tries it best to store only necessary data, so the database does not grow too much in size, but here is what you can also do to keep it as small as possible:</p>
		<ul>
			<li>turn off unused currencies</li>
			<li>turn off countries that you don't sell your products to</li>
			<li>set groups for which you don't use group discounts to be ignored, do the same for unused grups, not having any customers</li>
		</ul>
		<p>Set up the main CRON price gathering task as often as you need to make it process all the products within a day. You can check how many times the CRON taks needs to be executed by launching it manually in your browser until it says that all products are indexed.</p>
		<p>The gathering task has an additional optional <span class="inline-code">&amp;reset</span> parameter. Using it forces the module to start reindexing products from the start (for the current day). This parameter may be useful if in your store the prices are injected directly into the database by some import module or external software. Prices like these will also get noticed, but it may come with a delay. Reseting the index may help you to minimize that delay.</p>
		<p>Set up the cleaning task not more often than once a day.</p>
		<h3>You just installed the module and you don't see historical prices?</h3>
		<p>Don't worry, the module needs some time to gather price history.</p>
		<p>For the prices to display, the following conditions must be met:</p>
		<ol>
		<li>Current price is a special, discounted price</li>
		<li>There is at least one price stored in the price history, different from the current price</li>
		<li>The theme did not have the displayProductPriceBlock hook with parameter type="after_price" removed (it should by in every theme by default)</li>
		</ul>
		<p>Also please note, that to not bloat the database, the module stores price for a given product only once during the day, only if the price changed compared to the previous price and only if the product is active.</p>
		<p>In 99% of the cases, to make the module work properly you just need to give it some time and make sure, that the changes in prices occured after the installation of the module.</p>
		<p>On product card in back office, you are able to view price change history. It may be useful to analyze what historical price should be displayed.</p>
		</section>
	</div>
</body>
</html>